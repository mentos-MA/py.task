k=int(input("value of k:"))
M=int(input("value of M:"))
s=0
for i in range(k):
    Ni=int(input())
       
    listi=input().split()
    
  
    x=max(listi)
    s+=(int(x))**2

Smax=(s)%M   
print(Smax)
